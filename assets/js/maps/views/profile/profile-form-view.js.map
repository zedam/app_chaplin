{"version":3,"sources":["views/profile/profile-form-view.coffee"],"names":[],"mappings":"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","file":"views/profile/profile-form-view.js","sourceRoot":"/source/","sourcesContent":["define [\n  'views/base/view'\n  'text!templates/profile/profile-form-view.hbs'\n  'models/profile/profile-model'\n], (BaseView, template, ProfileModel) ->\n  'use strict'\n\n  class FormView extends BaseView\n    initialize: ->\n      ### Handles the submit form to create new profiles ###\n      @delegateEvents 'submit': @submitForm\n\n      ### Handlers to make the fake select boxes ###\n      @delegate 'click', '.selectable', @selectable\n      @delegate 'click', '.select_options li > span', @selectable_span\n\n      ### Subscribe to event to hide the Fake Select boxes ###\n      @subscribeEvent 'hideSelectBox', @removeActiveSelectBox\n\n\n    autoRender: true\n    className: 'form__container'\n\n    regions:\n      color: '#color-container'\n      image_container: '#image-container'\n\n    submitForm: (e) ->\n      e.preventDefault()\n\n      if $('#form-name').val() != '' && $('#form-color').val() != '' && $('#form-image').val() != ''\n        @model = new ProfileModel\n          name: $('#form-name').val()\n          color: $('#form-color').val()\n          image: $('#form-image').val()\n        @model.save()\n\n        @closeForm()\n\n      else\n        # Method to be improved with any notification system #\n        alert('Please fill all the fields')\n\n      @publishEvent 'updateProfiles', @model\n\n    ### Closes the form & cleans it ###\n    closeForm: ->\n      $('#form-opener').fadeIn('slow');\n      $('#form-user').slideUp('fast');\n      $('#form-name').val('')\n      $('#form-color').val('')\n      $('#form-color_shown').val('')\n      $('#form-image').val('')\n      $('#form-image_shown').val('')\n\n    ### Fake Select box opening/closing ###\n    selectable: (e) ->\n      e.stopPropagation()\n      @removeActiveSelectBox()\n      $(e.target).next().slideToggle('fast')\n      $(e.target).parents('.form__select-container').toggleClass('active')\n\n    ### Fake Select box selecting the option ###\n    selectable_span: (e) ->\n      e.preventDefault()\n      $select_options = $(e.target).parents('.select_options')\n      $('#' + $select_options.data('id')).val($(e.target).data('content'))\n      $('#' + $select_options.data('id') + '_shown').val($(e.target).html())\n      $select_options .slideUp().prev().change()\n\n    ### Closes the Select boxes ###\n    removeActiveSelectBox: (e)->\n      $('.form__select-container.active').removeClass('active').find('.select_options').slideUp('slow') if e?\n\n    template: template\n    template = null"]}